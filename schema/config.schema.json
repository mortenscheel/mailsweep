{
  "$schema": "https://json-schema.org/draft-07/schema",
  "title": "Mailsweep Configuration",
  "description": "Configuration schema for the Mailsweep tool that cleans up your Outlook inbox",
  "type": "object",
  "required": ["rules"],
  "properties": {
    "rules": {
      "type": "array",
      "description": "List of rules to match emails for processing",
      "items": {
        "type": "object",
        "required": ["name", "action"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Descriptive name for the rule"
          },
          "sender_contains": {
            "oneOf": [
              { "type": "string", "description": "String to match against the email sender (case-insensitive)" },
              { 
                "type": "array", 
                "description": "List of strings to match against the email sender (case-insensitive)",
                "items": { "type": "string" }
              }
            ],
            "description": "Pattern(s) to match against the email sender (case-insensitive). Can be a single string or array of strings."
          },
          "subject_contains": {
            "oneOf": [
              { "type": "string", "description": "String to match against the email subject (case-insensitive)" },
              { 
                "type": "array", 
                "description": "List of strings to match against the email subject (case-insensitive)",
                "items": { "type": "string" }
              }
            ],
            "description": "Pattern(s) to match against the email subject (case-insensitive). Can be a single string or array of strings."
          },
          "action": {
            "type": "string",
            "description": "Action to perform when a rule matches",
            "enum": ["archive", "delete", "mark_read"]
          }
        }
      }
    }
  }
}